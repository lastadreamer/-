<mxfile host="app.diagrams.net" modified="2022-07-27T08:23:49.363Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.134 Safari/537.36 Edg/103.0.1264.71" etag="S2Iso2WkaRKKKN3JaJ4z" version="20.2.1" type="github" pages="4">
  <diagram id="HhZtM-FSwsS9HEUlPnQV" name="第 1 页">
    <mxGraphModel dx="1600" dy="981" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="5007KMWiSYfReoPR9LWK-48" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;labelBackgroundColor=#FFFFFF;fontSize=22;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="228" y="920" width="705" height="960.5" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-27" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1017" y="25" width="867" height="1378" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-35" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;strokeColor=default;labelBorderColor=none;labelBackgroundColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="166" y="25" width="767" height="814" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Z4nJms6K-MgnB80sZfBX-3" target="Z4nJms6K-MgnB80sZfBX-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-3" value="输入待评估的策略 \(\pi\) ，阈值 \(\theta &amp;gt; 0\)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="489.5" y="43" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Z4nJms6K-MgnB80sZfBX-4" target="Z4nJms6K-MgnB80sZfBX-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-4" value="对于任意 \( s \in S^+ \) ，任意初始化 \( V(s) \) ，其中 \( V(终止状态) = 0 \)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="489.5" y="163" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Z4nJms6K-MgnB80sZfBX-6" target="Z4nJms6K-MgnB80sZfBX-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-6" value="\( \Delta \leftarrow 0 \)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="489.5" y="273" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Z4nJms6K-MgnB80sZfBX-7" target="Z4nJms6K-MgnB80sZfBX-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-7" value="对每一个 \( s \in S \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="489.5" y="383" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Z4nJms6K-MgnB80sZfBX-10" target="Z4nJms6K-MgnB80sZfBX-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-10" value="&lt;p style=&quot;line-height: 1.7;&quot;&gt;\( v \leftarrow V(s) \)&lt;/p&gt;&lt;p style=&quot;line-height: 1.7;&quot;&gt;\( V(s) \leftarrow \sum_a \pi (a|s) \sum_{s&#39;, r} p(s&#39;, r|s, a)[r + \gamma V(s&#39;)] \)&lt;/p&gt;&lt;p style=&quot;line-height: 1.7;&quot;&gt;\( \Delta \leftarrow max(\Delta, |v - V(s)|) \)&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;spacing=9;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="386.5" y="493" width="326" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Z4nJms6K-MgnB80sZfBX-12" target="Z4nJms6K-MgnB80sZfBX-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="325.5" y="683" />
              <mxPoint x="325.5" y="303" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-15" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Z4nJms6K-MgnB80sZfBX-14" vertex="1" connectable="0">
          <mxGeometry x="-0.7729" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Z4nJms6K-MgnB80sZfBX-12" target="Z4nJms6K-MgnB80sZfBX-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-25" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="Z4nJms6K-MgnB80sZfBX-24" vertex="1" connectable="0">
          <mxGeometry x="-0.3056" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-12" value="\( \Delta &amp;lt; \theta \ ? \)" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="509.5" y="643" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-16" value="结束&lt;br&gt;&lt;br&gt;\( V \approx v_\pi \)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="489.5" y="763" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-36" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;迭代&lt;span style=&quot;background-color: rgb(255, 255, 0); font-size: 22px;&quot;&gt;策略评估&lt;/span&gt;算法&lt;br style=&quot;font-size: 22px;&quot;&gt;用于估计&lt;br style=&quot;font-size: 22px;&quot;&gt;\( V \approx v_\pi \)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=none;labelBorderColor=none;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="245.5" y="117" width="98" height="91" as="geometry" />
        </mxCell>
        <mxCell id="Z4nJms6K-MgnB80sZfBX-37" value="&lt;span style=&quot;&quot;&gt;不用那么死板，\( \gamma \) 与环境有关&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=#FFFFFF;labelBorderColor=none;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="773" y="516" width="101" height="64" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-2" target="5007KMWiSYfReoPR9LWK-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-2" value="对于 \( s \in S \) ，任意设定 \( V(s) \in R \) 以及 \( \pi(s) \in A(s) \)" style="whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;labelBorderColor=none;fontSize=16;strokeColor=default;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1376.36" y="80.5" width="144" height="98" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-4" target="5007KMWiSYfReoPR9LWK-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-4" value="\( \Delta \leftarrow 0 \)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1388.36" y="215.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-6" target="5007KMWiSYfReoPR9LWK-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-6" value="对每一个 \( s \in S \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1388.36" y="315.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-8" target="5007KMWiSYfReoPR9LWK-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-8" value="&lt;p style=&quot;line-height: 1.7;&quot;&gt;\( v \leftarrow V(s) \)&lt;/p&gt;&lt;p style=&quot;line-height: 1.7;&quot;&gt;\( V(s) \leftarrow \sum_{s&#39;, r} p(s&#39;, r|s, \pi(s))[r + \gamma V(s&#39;)] \)&lt;/p&gt;&lt;p style=&quot;line-height: 1.7;&quot;&gt;\( \Delta \leftarrow max(\Delta, |v - V(s)|) \)&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;spacing=9;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1285.36" y="421.5" width="326" height="110" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="5007KMWiSYfReoPR9LWK-12" target="5007KMWiSYfReoPR9LWK-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1235.86" y="616.5" />
              <mxPoint x="1235.86" y="245.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-10" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5007KMWiSYfReoPR9LWK-9" vertex="1" connectable="0">
          <mxGeometry x="-0.7131" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-12" target="5007KMWiSYfReoPR9LWK-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-12" value="\( \Delta &amp;lt; \theta \ ? \)" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1408.36" y="576.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-14" target="5007KMWiSYfReoPR9LWK-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-14" value="\( policy\_stable \leftarrow true \)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1368.36" y="691.5" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-16" target="5007KMWiSYfReoPR9LWK-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-16" value="对每一个 \( s \in S \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1388.36" y="789.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-18" target="5007KMWiSYfReoPR9LWK-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-18" value="\( old\_action \leftarrow \pi(s) \)&lt;br&gt;&lt;br&gt;\( \pi(s) \leftarrow argmax_a \sum_{s&#39;, r} p(s&#39;, r|s, a)[r + \gamma V(s&#39;)] \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1305.36" y="896.5" width="286" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-20" target="5007KMWiSYfReoPR9LWK-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-20" value="\( if \ \&amp;nbsp; old\_action \neq \pi(s): policy\_stable \leftarrow false \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1299.36" y="1001.5" width="298" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="5007KMWiSYfReoPR9LWK-25" target="5007KMWiSYfReoPR9LWK-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1674.36" y="1179.5" />
              <mxPoint x="1674.36" y="245.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-22" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5007KMWiSYfReoPR9LWK-21" vertex="1" connectable="0">
          <mxGeometry x="-0.8601" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="5007KMWiSYfReoPR9LWK-25" target="5007KMWiSYfReoPR9LWK-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-24" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="5007KMWiSYfReoPR9LWK-23" vertex="1" connectable="0">
          <mxGeometry x="-0.4074" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-25" value="\( policy\_stable == true \)" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1366.86" y="1106.5" width="163" height="124" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-26" value="结束&lt;br&gt;\( V \approx v_* \)&lt;br&gt;\( \pi \approx \pi_* \)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1388.36" y="1275.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-28" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;策略迭代&lt;/span&gt;，用于估计 \( \pi \approx \pi_* \)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="1033" y="44" width="109" height="110" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-30" value="策略评估" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=#FFFFFF;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="1069" y="441" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-31" value="策略改进" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=#FFFFFF;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="1069" y="917" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="5007KMWiSYfReoPR9LWK-33" target="5007KMWiSYfReoPR9LWK-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-33" value="对于任意 \( s \in S^+ \) ，任意初始化 \( V(s) \) ，其中 \( V(终止状态) = 0 \)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="541" y="976.5" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="5007KMWiSYfReoPR9LWK-34" target="5007KMWiSYfReoPR9LWK-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-34" value="阈值 \(\theta &amp;gt; 0\)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="541" y="1104.5" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="5007KMWiSYfReoPR9LWK-36" target="5007KMWiSYfReoPR9LWK-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-36" value="\( \Delta \leftarrow 0 \)" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="541" y="1231" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="5007KMWiSYfReoPR9LWK-37" target="5007KMWiSYfReoPR9LWK-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-37" value="对每一个 \( s \in S \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="541" y="1341" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="5007KMWiSYfReoPR9LWK-38" target="5007KMWiSYfReoPR9LWK-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-38" value="&lt;p style=&quot;line-height: 1.7;&quot;&gt;\( v \leftarrow V(s) \)&lt;/p&gt;&lt;p style=&quot;line-height: 1.7;&quot;&gt;\( V(s) \leftarrow max_a \sum_{s&#39;, r} p(s&#39;, r|s, a)[r + \gamma V(s&#39;)] \)&lt;/p&gt;&lt;p style=&quot;line-height: 1.7;&quot;&gt;\( \Delta \leftarrow max(\Delta, |v - V(s)|) \)&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;spacing=9;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="438" y="1451" width="326" height="110" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=22;" parent="1" source="5007KMWiSYfReoPR9LWK-42" target="5007KMWiSYfReoPR9LWK-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="373" y="1651.5" />
              <mxPoint x="373" y="1261.5" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-45" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=22;" parent="5007KMWiSYfReoPR9LWK-44" vertex="1" connectable="0">
          <mxGeometry x="-0.6282" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="5007KMWiSYfReoPR9LWK-42" target="5007KMWiSYfReoPR9LWK-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-42" value="\( \Delta &amp;lt; \theta \ ? \)" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="561" y="1611" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-46" value="结束&lt;br&gt;&lt;br&gt;输出一个确定的 \( \pi \approx \pi_* \) ，使得&lt;br&gt;&lt;br&gt;\( \pi(s) = argmax_a \sum_{s&#39;, r} p(s&#39;, r|s, a)[r + \gamma V(s&#39;)] \)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="448.5" y="1741.5" width="305" height="86" as="geometry" />
        </mxCell>
        <mxCell id="5007KMWiSYfReoPR9LWK-50" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;价值迭代&lt;/span&gt;，用于估计 \( \pi \approx \pi_* \)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=#FFFFFF;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="264" y="953" width="170" height="134" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="u7FK699BgETGgtn3xf2W" name="第 2 页">
    <mxGraphModel dx="2000" dy="981" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="1" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-64" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-80" y="1410" width="680" height="1270" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-32" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="160" width="690" height="1450" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-1" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-80" y="160" width="680" height="1210" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-3" target="_ebJiyhXfVFm2nI1xKST-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-3" value="输入待评估的策略 \( \pi \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-5" target="_ebJiyhXfVFm2nI1xKST-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-5" value="对所有 \( s \in S \)，任意初始化 \( V(s) \in R \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-7" target="_ebJiyhXfVFm2nI1xKST-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-7" value="对所有 \( s \in S \)，\( Return(s) \leftarrow 空列表 \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-9" target="_ebJiyhXfVFm2nI1xKST-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-9" value="根据 \( \pi \) 生成一幕序列 &lt;br&gt;\( S_0, A_0, R_1, S_1, A_1, R_2,\dots,S_{T-1}, A_{T-1}, R_T \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="120" y="450" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-11" target="_ebJiyhXfVFm2nI1xKST-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-11" value="\( G \leftarrow 0 \)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-13" target="_ebJiyhXfVFm2nI1xKST-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-13" value="对本幕中的每一步进行循环，\( t = T-1, T-2, \dots,0 \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="185" y="680" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-15" target="_ebJiyhXfVFm2nI1xKST-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-15" value="\( G \leftarrow \gamma G + R_{t + 1} \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="200" y="800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-20" target="_ebJiyhXfVFm2nI1xKST-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="130" y="950" />
              <mxPoint x="130" y="725" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-17" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_ebJiyhXfVFm2nI1xKST-16">
          <mxGeometry x="-0.7705" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-20" target="_ebJiyhXfVFm2nI1xKST-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-19" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" vertex="1" connectable="0" parent="_ebJiyhXfVFm2nI1xKST-18">
          <mxGeometry x="0.1247" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-20" value="\( S_t \) 在&lt;br&gt;&amp;nbsp;\( S_0, S_1, \dots, S_{t - 1} \)中出现过？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="190" y="890" width="140" height="120" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-22" target="_ebJiyhXfVFm2nI1xKST-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-22" value="将 \( G \) 加入 \( Return(S_t) \)&lt;br&gt;&lt;br&gt;\( V(S_t) \leftarrow average(Return(S_t)) \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="165" y="1040" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-27" target="_ebJiyhXfVFm2nI1xKST-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="400" y="1190" />
              <mxPoint x="400" y="725" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-24" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_ebJiyhXfVFm2nI1xKST-23">
          <mxGeometry x="-0.873" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-27" target="_ebJiyhXfVFm2nI1xKST-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-26" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="_ebJiyhXfVFm2nI1xKST-25">
          <mxGeometry x="-0.1872" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-27" value="\( t == 0 \) ?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="220" y="1150" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="_ebJiyhXfVFm2nI1xKST-29" target="_ebJiyhXfVFm2nI1xKST-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="80" y="1300" />
              <mxPoint x="80" y="505" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-29" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="200" y="1270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="_ebJiyhXfVFm2nI1xKST-30" value="&lt;span style=&quot;background-color: rgb(255, 255, 0); font-size: 22px;&quot;&gt;首次访问型 MC 预测算法&lt;/span&gt;，用于估计&lt;br style=&quot;font-size: 22px;&quot;&gt;\( V \approx v_\pi \)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;fontSize=22;" vertex="1" parent="1">
          <mxGeometry x="-30" y="195" width="140" height="155" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-1" target="xMW9CS_pUae8BuQiv3Kr-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-1" value="对所有 \( s \in S \)，任意初始化 \( \pi(s) \in A(s) \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-2" target="xMW9CS_pUae8BuQiv3Kr-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-2" value="对所有 \( s \in S, a \in A(s) \)，任意初始化 \( Q(s, a) \in R \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-4" target="xMW9CS_pUae8BuQiv3Kr-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-4" value="对所有 \( s \in S, a \in A(s) \)，任意初始化 \( Return(s, a) \leftarrow 空列表 \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="965" y="360" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-6" target="xMW9CS_pUae8BuQiv3Kr-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-6" value="从 \( S_0, A_0 \) 开始，根据 \( \pi \) 生成一幕序列：&lt;br&gt;&lt;br&gt;\( S_0, A_0, R_1, S_1, A_1, R_2,\dots,S_{T-1}, A_{T-1}, R_T \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="895" y="580" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-7" target="xMW9CS_pUae8BuQiv3Kr-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-7" value="选择 \( S_0 \in S \) 和 \( A_0 \in A(S_0) \) 以使得所有 “状态-动作”二元组的概率都 &amp;gt; 0" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="955" y="465" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-10" target="xMW9CS_pUae8BuQiv3Kr-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-10" value="\( G \leftarrow 0 \)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-12" target="xMW9CS_pUae8BuQiv3Kr-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-12" value="对本幕中的每一步进行循环，\( t = T-1, T-2, \dots,0 \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="960" y="830" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-14" target="xMW9CS_pUae8BuQiv3Kr-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-14" value="\( G \leftarrow \gamma G + R_{t + 1} \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="975" y="960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-16" target="xMW9CS_pUae8BuQiv3Kr-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-20" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-19">
          <mxGeometry x="-0.2167" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-16" target="xMW9CS_pUae8BuQiv3Kr-12">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="885" y="1140" />
              <mxPoint x="885" y="875" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-31" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-30">
          <mxGeometry x="-0.816" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-16" value="二元组 \( S_t， A_t \) 在&lt;br&gt;&amp;nbsp;\( S_0, A_0, S_1,A_1,&amp;nbsp; \dots, S_{t - 1},A_{t-1} \)中出现过？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="940" y="1060" width="190" height="160" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-18" target="xMW9CS_pUae8BuQiv3Kr-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-18" value="将 \( G \) 加入 \( Return(S_t, A_t) \)&lt;br&gt;&lt;br&gt;\( Q(S_t, A_t) \leftarrow average(Return(S_t, A_t)) \)&lt;br&gt;&lt;br&gt;\( \pi (S_t) \leftarrow argmax_a Q(S_t, a) \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="917.5" y="1260" width="235" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-21" target="xMW9CS_pUae8BuQiv3Kr-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-26" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-25">
          <mxGeometry x="-0.1535" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-21" target="xMW9CS_pUae8BuQiv3Kr-12">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1205" y="1430" />
              <mxPoint x="1205" y="875" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-29" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-28">
          <mxGeometry x="-0.8837" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-21" value="\( t == 0 \) ?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="995" y="1390" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-24" target="xMW9CS_pUae8BuQiv3Kr-7">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="795" y="1540" />
              <mxPoint x="795" y="505" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-24" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="975" y="1510" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-33" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;蒙特卡洛ES（试探性出发）&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;，用于估计 \( \pi \approx \pi_* \)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="760" y="210" width="160" height="120" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-34" target="xMW9CS_pUae8BuQiv3Kr-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-34" value="\( \pi \leftarrow 一个任意的 \epsilon - 软性策略 \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="1430" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-35" target="xMW9CS_pUae8BuQiv3Kr-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-35" value="对所有 \( s \in S, a \in A(s) \)，任意初始化 \( Q(s, a) \in R \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="1520" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-36" target="xMW9CS_pUae8BuQiv3Kr-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-36" value="对所有 \( s \in S, a \in A(s) \)，任意初始化 \( Return(s, a) \leftarrow 空列表 \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="190" y="1610" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-39" target="xMW9CS_pUae8BuQiv3Kr-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-39" value="根据 \( \pi \) 生成一幕序列 &lt;br&gt;\( S_0, A_0, R_1, S_1, A_1, R_2,\dots,S_{T-1}, A_{T-1}, R_T \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="120" y="1710" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-40" target="xMW9CS_pUae8BuQiv3Kr-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-40" value="\( G \leftarrow 0 \)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="1850" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-41" target="xMW9CS_pUae8BuQiv3Kr-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-41" value="对本幕中的每一步进行循环，\( t = T-1, T-2, \dots,0 \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="185" y="1940" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-42" target="xMW9CS_pUae8BuQiv3Kr-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-42" value="\( G \leftarrow \gamma G + R_{t + 1} \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="200" y="2060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-47" target="xMW9CS_pUae8BuQiv3Kr-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-51" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-50">
          <mxGeometry x="-0.2577" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-47" value="二元组 \( S_t， A_t \) 在&lt;br&gt;&amp;nbsp;\( S_0, A_0, S_1,A_1,&amp;nbsp; \dots, S_{t - 1},A_{t-1} \)中出现过？" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="165" y="2150" width="190" height="160" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=22;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-47" target="xMW9CS_pUae8BuQiv3Kr-41">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="2410" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="100" y="2230" />
              <mxPoint x="100" y="1985" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-53" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-52">
          <mxGeometry x="-0.8455" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-48" target="xMW9CS_pUae8BuQiv3Kr-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-48" value="将 \( G \) 加入 \( Return(S_t, A_t) \)&lt;br&gt;&lt;br&gt;\( Q(S_t, A_t) \leftarrow average(Return(S_t, A_t)) \)&lt;br&gt;&lt;br&gt;\( A^* \leftarrow argmax_a Q(S_t, a) \) (有多个最大值时任意选取)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="142.5" y="2350" width="235" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-54" target="xMW9CS_pUae8BuQiv3Kr-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-58" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-57">
          <mxGeometry x="-0.1744" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-54" target="xMW9CS_pUae8BuQiv3Kr-41">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="440" y="2520" />
              <mxPoint x="440" y="1985" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-61" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-60">
          <mxGeometry x="-0.8569" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-54" value="\( t == 0 \) ?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="220" y="2480" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-55" target="xMW9CS_pUae8BuQiv3Kr-39">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="40" y="2630" />
              <mxPoint x="40" y="1765" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-55" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="200" y="2600" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-65" value="&lt;span style=&quot;background-color: rgb(255, 255, 0); font-size: 22px;&quot;&gt;同轨策略的首次访问型 MC 控制算法&lt;/span&gt;，用于估计&lt;br style=&quot;font-size: 22px;&quot;&gt;\( \pi \approx \pi_* \)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;fontSize=22;" vertex="1" parent="1">
          <mxGeometry x="-50" y="1450" width="140" height="155" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-66" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="1650" width="690" height="1300" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-68" target="xMW9CS_pUae8BuQiv3Kr-70">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-68" value="一个任意的目标策略 \( \pi \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="1670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-98" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-70" target="xMW9CS_pUae8BuQiv3Kr-76">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-70" value="对所有 \( s \in S, a \in A(s) \)，任意初始化&lt;br&gt;&lt;br&gt;&amp;nbsp;\( Q(s, a) \in R \)&lt;br&gt;&lt;br&gt;\( C(s, a) \leftarrow 0 \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="967.5" y="1770" width="135" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-73" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-74" target="xMW9CS_pUae8BuQiv3Kr-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-74" value="根据 \( b \) 生成一幕序列：&lt;br&gt;&lt;br&gt;\( S_0, A_0, R_1, S_1, A_1, R_2,\dots,S_{T-1}, A_{T-1}, R_T \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="895" y="2030" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-76" target="xMW9CS_pUae8BuQiv3Kr-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-76" value="\( b \leftarrow 任何能包括 \pi 的策略 \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="955" y="1910" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-78" target="xMW9CS_pUae8BuQiv3Kr-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-78" value="\( G \leftarrow 0 \)&lt;br&gt;&lt;br&gt;\( W \leftarrow 1 \)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="2190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-79" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-80" target="xMW9CS_pUae8BuQiv3Kr-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-80" value="对本幕中的每一步进行循环，\( t = T-1, T-2, \dots,0 \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="960" y="2300" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-82" target="xMW9CS_pUae8BuQiv3Kr-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-82" value="\( G \leftarrow \gamma G + R_{t + 1} \)&lt;br&gt;&lt;br&gt;\( C(S_t, A_t) \leftarrow C(S_t, A_t) + W \)&lt;br&gt;&lt;br&gt;\( Q(S_t, A_t) \leftarrow Q(S_t, A_t) + \frac {W}{C(S_t, A_t)}[G - Q(S_t, A_t)] \)&lt;br&gt;&lt;br&gt;\( W \leftarrow W \frac {\pi(A_t|S_t)}{b(A_t|S_t)} \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="880" y="2440" width="310" height="160" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-90" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-94" target="xMW9CS_pUae8BuQiv3Kr-96">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-91" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-90">
          <mxGeometry x="-0.1535" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-94" target="xMW9CS_pUae8BuQiv3Kr-80">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1230" y="2725" />
              <mxPoint x="1230" y="2345" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-93" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-92">
          <mxGeometry x="-0.8837" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-96" target="xMW9CS_pUae8BuQiv3Kr-76">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="820" y="2880" />
              <mxPoint x="820" y="1950" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-94" value="\( t == 0\ or\ W == 0 \) ?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="957.5" y="2650" width="155" height="150" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-96" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="975" y="2850" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-97" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;离轨策略 MC预测算法（策略评估）&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;，用于估计 \( Q \approx q_\pi \)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="760" y="1700" width="160" height="120" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-104" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1460" y="1650" width="710" height="1370" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-128" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-106" target="xMW9CS_pUae8BuQiv3Kr-112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-106" value="\( \pi (s) \leftarrow argmax_a Q(s, a) \)&lt;br&gt;(出现平分的情况选取方法应保持一致)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1757.5" y="1810" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-127" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-108" target="xMW9CS_pUae8BuQiv3Kr-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-108" value="对所有 \( s \in S, a \in A(s) \)，任意初始化&lt;br&gt;&lt;br&gt;&amp;nbsp;\( Q(s, a) \in R \)&lt;br&gt;&lt;br&gt;\( C(s, a) \leftarrow 0 \)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1767.5" y="1670" width="135" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-109" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-110" target="xMW9CS_pUae8BuQiv3Kr-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-110" value="根据 \( b \) 生成一幕序列：&lt;br&gt;&lt;br&gt;\( S_0, A_0, R_1, S_1, A_1, R_2,\dots,S_{T-1}, A_{T-1}, R_T \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1695" y="2030" width="280" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-112" target="xMW9CS_pUae8BuQiv3Kr-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-112" value="\( b \leftarrow 任何软性策略 \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1755" y="1910" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-114" target="xMW9CS_pUae8BuQiv3Kr-116">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-114" value="\( G \leftarrow 0 \)&lt;br&gt;&lt;br&gt;\( W \leftarrow 1 \)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1775" y="2190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-115" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-116" target="xMW9CS_pUae8BuQiv3Kr-118">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-116" value="对本幕中的每一步进行循环，\( t = T-1, T-2, \dots,0 \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1760" y="2300" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-134" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-118" target="xMW9CS_pUae8BuQiv3Kr-133">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-118" value="\( G \leftarrow \gamma G + R_{t + 1} \)&lt;br&gt;&lt;br&gt;\( C(S_t, A_t) \leftarrow C(S_t, A_t) + W \)&lt;br&gt;&lt;br&gt;\( Q(S_t, A_t) \leftarrow Q(S_t, A_t) + \frac {W}{C(S_t, A_t)}[G - Q(S_t, A_t)] \)&lt;br&gt;&lt;br&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1680" y="2440" width="310" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-119" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-124" target="xMW9CS_pUae8BuQiv3Kr-125">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-120" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-119">
          <mxGeometry x="-0.1535" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-125" target="xMW9CS_pUae8BuQiv3Kr-112">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1620" y="2970" />
              <mxPoint x="1620" y="1950" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-130" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-124" target="xMW9CS_pUae8BuQiv3Kr-129">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-132" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;" vertex="1" connectable="0" parent="xMW9CS_pUae8BuQiv3Kr-130">
          <mxGeometry x="-0.5601" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-124" value="\( A_t == \pi (S_t) \) ?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1757.5" y="2740" width="155" height="150" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-125" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1775" y="2940" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-126" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;离轨策略 MC控制算法&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;，用于估计 \( \pi \approx \pi_* \)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1560" y="1700" width="160" height="120" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-131" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-129" target="xMW9CS_pUae8BuQiv3Kr-116">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2090" y="2345" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-129" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;\( W \leftarrow W \frac {\pi(A_t|S_t)}{b(A_t|S_t)} \)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;labelBackgroundColor=none;fontSize=11;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="2030" y="2490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-135" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=11;" edge="1" parent="1" source="xMW9CS_pUae8BuQiv3Kr-133" target="xMW9CS_pUae8BuQiv3Kr-124">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xMW9CS_pUae8BuQiv3Kr-133" value="\( \pi (S_t) \leftarrow argmax_a Q(S_t, a) \)&lt;br&gt;(出现平分的情况选取方法应保持一致)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1748.75" y="2600" width="172.5" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="9tZB8Tdvwi4eWLBAXLJB" name="第 3 页">
    <mxGraphModel dx="1760" dy="834" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="1" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-8" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-340" y="40" width="520" height="1040" as="geometry" />
        </mxCell>
        <mxCell id="TbW2fsExoBmgPA06SWLA-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="TbW2fsExoBmgPA06SWLA-1" target="TbW2fsExoBmgPA06SWLA-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TbW2fsExoBmgPA06SWLA-1" value="待评估的策略 \( \pi \)" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=11;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-110" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="TbW2fsExoBmgPA06SWLA-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="TbW2fsExoBmgPA06SWLA-2" target="TbW2fsExoBmgPA06SWLA-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TbW2fsExoBmgPA06SWLA-2" value="步长 \( \alpha \in (0, 1] \)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-110" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="TbW2fsExoBmgPA06SWLA-3" target="0wcp9nZm6TlCOqcn3_kf-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TbW2fsExoBmgPA06SWLA-3" value="对所有 \( s \in S^+ \)，任意初始化 \( V(s) \)，其中 \( V(终止状态) = 0 \)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-110" y="250" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0wcp9nZm6TlCOqcn3_kf-1" target="0wcp9nZm6TlCOqcn3_kf-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-1" value="初始化 \( S \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-110" y="360" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0wcp9nZm6TlCOqcn3_kf-2" target="0wcp9nZm6TlCOqcn3_kf-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-2" value="\( A \leftarrow 策略 \pi 在状态 S 下做出的决策动作 \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-165" y="460" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0wcp9nZm6TlCOqcn3_kf-3" target="0wcp9nZm6TlCOqcn3_kf-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-3" value="执行动作 \( A \)，观察到 \( R, S&#39; \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-110" y="560" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0wcp9nZm6TlCOqcn3_kf-7" target="0wcp9nZm6TlCOqcn3_kf-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-7" value="\( V(S) \leftarrow V(S) + \alpha[R + \gamma V(S&#39;) - V(S)] \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-175" y="660" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0wcp9nZm6TlCOqcn3_kf-9" target="0wcp9nZm6TlCOqcn3_kf-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-9" value="\( S \leftarrow S&#39; \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-110" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="0wcp9nZm6TlCOqcn3_kf-10" target="0wcp9nZm6TlCOqcn3_kf-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-4" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="y2AI5xEoIqXZ0Lj3w_7G-3" vertex="1" connectable="0">
          <mxGeometry x="-0.1694" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="0wcp9nZm6TlCOqcn3_kf-10" target="0wcp9nZm6TlCOqcn3_kf-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="110" y="910" />
              <mxPoint x="110" y="490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-6" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="y2AI5xEoIqXZ0Lj3w_7G-5" vertex="1" connectable="0">
          <mxGeometry x="-0.9061" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-10" value="\( S == 终止状态 \)？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-110" y="860" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="0wcp9nZm6TlCOqcn3_kf-11" target="0wcp9nZm6TlCOqcn3_kf-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-220" y="1030" />
              <mxPoint x="-220" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0wcp9nZm6TlCOqcn3_kf-11" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-110" y="1000" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-9" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;表格型 TD(0) 算法&lt;/span&gt;，用于估计 \( v_\pi \)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-315" y="90" width="150" height="110" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-10" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="40" width="520" height="1040" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-14" target="y2AI5xEoIqXZ0Lj3w_7G-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-14" value="步长 \( \alpha \in (0, 1] \)&lt;br&gt;很小的 \( \epsilon \)，\( \epsilon &amp;gt; 0 \)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-16" target="y2AI5xEoIqXZ0Lj3w_7G-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-16" value="对所有 \( s \in S^+ , a \in A(s) \)，任意初始化 \( Q(s, a) \)，其中 \( Q(终止状态, . ) = 0 \)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="150" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-18" target="y2AI5xEoIqXZ0Lj3w_7G-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-18" value="初始化 \( S \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="470" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-20" target="y2AI5xEoIqXZ0Lj3w_7G-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-20" value="使用从 \(Q\) 中得到的策略（例如 \( \epsilon\) 贪心），在 \( S \) 处选择 \( A \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="415" y="370" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-22" target="y2AI5xEoIqXZ0Lj3w_7G-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-22" value="执行动作 \( A \)，观察到 \( R, S&#39; \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="470" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-24" target="y2AI5xEoIqXZ0Lj3w_7G-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-24" value="\( Q(S, A) \leftarrow Q(S,A) + \alpha[R + \gamma Q(S&#39;,A&#39;) - Q(S,A)] \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="370" y="660" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-26" target="y2AI5xEoIqXZ0Lj3w_7G-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-26" value="\( S \leftarrow S&#39; \)&lt;br&gt;\( A \leftarrow A&#39; \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="470" y="760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-31" target="y2AI5xEoIqXZ0Lj3w_7G-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-28" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="y2AI5xEoIqXZ0Lj3w_7G-27" vertex="1" connectable="0">
          <mxGeometry x="-0.1694" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-31" target="y2AI5xEoIqXZ0Lj3w_7G-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="720" y="910" />
              <mxPoint x="720" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-30" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="y2AI5xEoIqXZ0Lj3w_7G-29" vertex="1" connectable="0">
          <mxGeometry x="-0.9061" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-31" value="\( S == 终止状态 \)？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="470" y="860" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-33" target="y2AI5xEoIqXZ0Lj3w_7G-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="1030" />
              <mxPoint x="340" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-33" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="470" y="1000" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-34" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;Sarsa (同轨策略下的 TD 控制) 算法&lt;/span&gt;，用于估计 \( Q \approx q_* \)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="265" y="90" width="150" height="130" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-35" target="y2AI5xEoIqXZ0Lj3w_7G-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-35" value="使用从 \(Q\) 中得到的策略（例如 \( \epsilon\) 贪心），在 \( S&#39; \) 处选择 \( A&#39; \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="415" y="570" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-38" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="810" y="40" width="520" height="1040" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-40" target="y2AI5xEoIqXZ0Lj3w_7G-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-40" value="步长 \( \alpha \in (0, 1] \)&lt;br&gt;很小的 \( \epsilon \)，\( \epsilon &amp;gt; 0 \)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1040" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-41" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-42" target="y2AI5xEoIqXZ0Lj3w_7G-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-42" value="对所有 \( s \in S^+ , a \in A(s) \)，任意初始化 \( Q(s, a) \)，其中 \( Q(终止状态, . ) = 0 \)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1040" y="150" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-44" target="y2AI5xEoIqXZ0Lj3w_7G-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-44" value="初始化 \( S \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1040" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-46" target="y2AI5xEoIqXZ0Lj3w_7G-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-46" value="使用从 \(Q\) 中得到的策略（例如 \( \epsilon\) 贪心），在 \( S \) 处选择 \( A \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="985" y="370" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-48" target="y2AI5xEoIqXZ0Lj3w_7G-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-48" value="执行动作 \( A \)，观察到 \( R, S&#39; \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1040" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-50" target="y2AI5xEoIqXZ0Lj3w_7G-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-50" value="\( Q(S, A) \leftarrow Q(S,A) + \alpha[R + \gamma max_a Q(S&#39;,a) - Q(S,A)] \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="930" y="570" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-52" target="y2AI5xEoIqXZ0Lj3w_7G-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-52" value="\( S \leftarrow S&#39; \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1040" y="680" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-57" target="y2AI5xEoIqXZ0Lj3w_7G-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-54" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="y2AI5xEoIqXZ0Lj3w_7G-53" vertex="1" connectable="0">
          <mxGeometry x="-0.1694" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-57" target="y2AI5xEoIqXZ0Lj3w_7G-46" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1310" y="830" />
              <mxPoint x="1310" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-56" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="y2AI5xEoIqXZ0Lj3w_7G-55" vertex="1" connectable="0">
          <mxGeometry x="-0.9061" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-57" value="\( S == 终止状态 \)？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1040" y="780" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-59" target="y2AI5xEoIqXZ0Lj3w_7G-44" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="910" y="960" />
              <mxPoint x="910" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-59" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1040" y="930" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-60" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;Q学习 (l离轨策略下的 TD 控制) 算法&lt;/span&gt;，用于预测 \( \pi \approx \pi_* \)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="835" y="90" width="150" height="130" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-64" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1390" y="40" width="580" height="1040" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-66" target="y2AI5xEoIqXZ0Lj3w_7G-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-66" value="步长 \( \alpha \in (0, 1] \)&lt;br&gt;很小的 \( \epsilon \)，\( \epsilon &amp;gt; 0 \)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1620" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-68" target="y2AI5xEoIqXZ0Lj3w_7G-70" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-68" value="对所有 \( s \in S^+ , a \in A(s) \)，任意初始化 \( Q_1(s, a), Q_2(s,a) \)，其中 \( Q(终止状态, . ) = 0 \)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="1620" y="150" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-70" target="y2AI5xEoIqXZ0Lj3w_7G-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-70" value="初始化 \( S \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1620" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-71" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-72" target="y2AI5xEoIqXZ0Lj3w_7G-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-72" value="基于 \(Q_1 + Q_2\) 使用 \( \epsilon\) 贪心策略，在 \( S \) 处选择 \( A \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1565" y="370" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-73" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=22;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-74" target="y2AI5xEoIqXZ0Lj3w_7G-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-74" value="执行动作 \( A \)，观察到 \( R, S&#39; \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1620" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-75" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-76" target="y2AI5xEoIqXZ0Lj3w_7G-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-76" value="以 0.5 的概率执行&lt;br&gt;&lt;br&gt;\( Q_1(S, A) \leftarrow Q_1(S,A) + \alpha[R + \gamma Q_2(S&#39;, argmax_a Q_1(S&#39;,a)) - Q_1(S,A)] \)&lt;br&gt;或者&lt;br&gt;&lt;br&gt;\( Q_2(S, A) \leftarrow Q_2(S,A) + \alpha[R + \gamma Q_1(S&#39;, argmax_a Q_2(S&#39;,a)) - Q_2(S,A)] \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1440" y="570" width="480" height="100" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-78" target="y2AI5xEoIqXZ0Lj3w_7G-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-78" value="\( S \leftarrow S&#39; \)" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1620" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-79" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-83" target="y2AI5xEoIqXZ0Lj3w_7G-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-80" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="y2AI5xEoIqXZ0Lj3w_7G-79" vertex="1" connectable="0">
          <mxGeometry x="-0.1694" relative="1" as="geometry">
            <mxPoint x="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-83" target="y2AI5xEoIqXZ0Lj3w_7G-72" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1940" y="860" />
              <mxPoint x="1940" y="400" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-82" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="y2AI5xEoIqXZ0Lj3w_7G-81" vertex="1" connectable="0">
          <mxGeometry x="-0.9061" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-83" value="\( S == 终止状态 \)？" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1620" y="810" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="y2AI5xEoIqXZ0Lj3w_7G-85" target="y2AI5xEoIqXZ0Lj3w_7G-70" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1430" y="990" />
              <mxPoint x="1430" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-85" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1620" y="960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="y2AI5xEoIqXZ0Lj3w_7G-86" value="&lt;font style=&quot;font-size: 22px;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;双Q学习，&lt;/span&gt;用于估计 \( Q_1 \approx Q_2 \approx q_* \)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="1415" y="90" width="150" height="130" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="1FvxHzWgHKAgvYzu6Yim" name="第 4 页">
    <mxGraphModel dx="2160" dy="834" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="1" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-48" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;dashed=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="-665" y="30" width="790" height="1750" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="WB6Q_r0z_OLh6ZyO8J2B-1" target="1ZrWYMIvA3GEo1OsLwS7-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WB6Q_r0z_OLh6ZyO8J2B-1" value="待评估的策略 \( \pi \)&lt;br&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;步长 \( \alpha \in (0, 1] \)，一个正整数 \( n \)&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;对所有 \( s \in S \)，任意初始化 \( V(s) \in R \)&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=11;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-330" y="80" width="120" height="110" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-2" target="1ZrWYMIvA3GEo1OsLwS7-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-2" value="所有存取操作（对于 \( S_t \) 和 \( R_t \) ）的索引可以对 \( n + 1\) 取模" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;fontSize=12;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="-330" y="220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-6" target="1ZrWYMIvA3GEo1OsLwS7-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-6" value="初始化和存储 \( S_0 \)，\( S_0 \neq 终止状态\)&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-330" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-8" target="1ZrWYMIvA3GEo1OsLwS7-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-8" value="循环 \( t = 0, 1, 2,\dots: \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-330" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-9" target="1ZrWYMIvA3GEo1OsLwS7-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-9" value="\( T \leftarrow \infty \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-330" y="400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-12" target="1ZrWYMIvA3GEo1OsLwS7-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-16" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-15" vertex="1" connectable="0">
          <mxGeometry x="-0.2175" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-12" target="1ZrWYMIvA3GEo1OsLwS7-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-440" y="630" />
              <mxPoint x="-440" y="355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-47" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-46" vertex="1" connectable="0">
          <mxGeometry x="-0.8058" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-12" value="\( t &amp;lt; T \) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-310" y="590" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-14" target="1ZrWYMIvA3GEo1OsLwS7-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-14" value="根据 \( \pi(.|S_t) 采取策略\)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-330" y="710" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-17" target="1ZrWYMIvA3GEo1OsLwS7-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-17" value="观察和存储下一时刻的收益 \( R_{t + 1} \) 和状态 \( S_{t + 1} \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-330" y="800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-20" target="1ZrWYMIvA3GEo1OsLwS7-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-20" value="如果\( S_{t + 1} \) 是终止状态：&lt;br&gt;\( T \leftarrow t + 1 \)&lt;br&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-330" y="900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-22" target="1ZrWYMIvA3GEo1OsLwS7-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-29" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-28" vertex="1" connectable="0">
          <mxGeometry x="-0.2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-22" target="1ZrWYMIvA3GEo1OsLwS7-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-140" y="1155" />
              <mxPoint x="-140" y="530" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-43" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-42" vertex="1" connectable="0">
          <mxGeometry x="-0.9236" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-22" value="\( \tau \ge 0\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-325" y="1100" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-24" target="1ZrWYMIvA3GEo1OsLwS7-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-24" value="\( \tau \leftarrow t - n + 1 \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-330" y="1000" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-27" target="1ZrWYMIvA3GEo1OsLwS7-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-27" value="\( G \leftarrow \sum_{i=\tau + 1}^{min(\tau + n), T} \gamma ^{i - \tau - 1} R_i \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-355" y="1250" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-31" target="1ZrWYMIvA3GEo1OsLwS7-34" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-31" value="如果\( \tau + n &amp;lt; T \) 那么：&lt;br&gt;\( G \leftarrow G + \gamma^n V(S_{\tau + n}) \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-340" y="1350" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-34" target="1ZrWYMIvA3GEo1OsLwS7-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-34" value="\( V(S_\tau) \leftarrow V(S_\tau) + \alpha [G - V(S_\tau)] \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-375" y="1450" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-36" target="1ZrWYMIvA3GEo1OsLwS7-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-40" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-39" vertex="1" connectable="0">
          <mxGeometry x="-0.2944" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-36" target="1ZrWYMIvA3GEo1OsLwS7-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-80" y="1595" />
              <mxPoint x="-80" y="515" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-45" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-44" vertex="1" connectable="0">
          <mxGeometry x="-0.8915" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-36" value="\( \tau == T - 1\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-325" y="1540" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-38" target="1ZrWYMIvA3GEo1OsLwS7-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-490" y="1720" />
              <mxPoint x="-490" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-38" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-330" y="1690" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-49" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;n 步时序差分法&lt;/span&gt;，用于估计&lt;br style=&quot;font-size: 22px;&quot;&gt;\( V \approx v_\pi \)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=none;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="-590" y="90" width="130" height="120" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-50" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;dashed=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="190" y="30" width="790" height="1880" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-52" target="1ZrWYMIvA3GEo1OsLwS7-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-52" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;对于所有的 \( s \in S, a \in A \) 任意初始化 \( Q(s, a) \)&lt;br&gt;&lt;br&gt;将 \( \pi \) 初始化为对应 \( Q \) 的 \( \epsilon \) - 贪心策略，或者某个固定的给定策略&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;步长 \( \alpha \in (0, 1] \)&lt;/span&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;很小的 \( \epsilon \)，\( \epsilon &amp;gt; 0 \)&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;，正整数 \( n \)&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=11;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="502.5" y="60" width="170" height="150" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-54" target="1ZrWYMIvA3GEo1OsLwS7-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-54" value="所有存取操作（对于 \( S_t \) 和 \( R_t \) ）的索引可以对 \( n + 1\) 取模" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;fontSize=12;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="527.5" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-56" target="9HfK5l_lQRydSOt8ixqE-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-56" value="初始化和存储 \( S_0 \)，\( S_0 \neq 终止状态\)&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="527.5" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-58" target="1ZrWYMIvA3GEo1OsLwS7-65" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-58" value="循环 \( t = 0, 1, 2,\dots: \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="527.5" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-59" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-60" target="1ZrWYMIvA3GEo1OsLwS7-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-60" value="\( T \leftarrow \infty \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="527.5" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-65" target="1ZrWYMIvA3GEo1OsLwS7-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-62" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-61" vertex="1" connectable="0">
          <mxGeometry x="-0.2175" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-65" target="1ZrWYMIvA3GEo1OsLwS7-56" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="418" y="770" />
              <mxPoint x="418" y="385" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-64" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-63" vertex="1" connectable="0">
          <mxGeometry x="-0.8058" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-65" value="\( t &amp;lt; T \) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="547.5" y="730" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-67" target="1ZrWYMIvA3GEo1OsLwS7-69" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-67" value="采取动作 \( A_t \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="527.5" y="850" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-69" target="1ZrWYMIvA3GEo1OsLwS7-71" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-69" value="观察和存储下一时刻的收益 \( R_{t + 1} \) 和状态 \( S_{t + 1} \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="527.5" y="940" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-71" target="1ZrWYMIvA3GEo1OsLwS7-78" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-71" value="如果\( S_{t + 1} \) 是终止状态：&lt;br&gt;\( T \leftarrow t + 1 \)&lt;br&gt;否则：&lt;br&gt;选择并存储动作 \( A_{t+1} \sim \pi(.|S_{t + 1}) \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="527.5" y="1020" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-76" target="1ZrWYMIvA3GEo1OsLwS7-80" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-73" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-72" vertex="1" connectable="0">
          <mxGeometry x="-0.2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-76" target="1ZrWYMIvA3GEo1OsLwS7-58" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="717.5" y="1295" />
              <mxPoint x="717.5" y="670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-75" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-74" vertex="1" connectable="0">
          <mxGeometry x="-0.9236" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-76" value="\( \tau \ge 0\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="532.5" y="1240" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-78" target="1ZrWYMIvA3GEo1OsLwS7-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-78" value="\( \tau \leftarrow t - n + 1 \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="527.5" y="1140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-79" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-80" target="1ZrWYMIvA3GEo1OsLwS7-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-80" value="\( G \leftarrow \sum_{i=\tau + 1}^{min(\tau + n), T} \gamma ^{i - \tau - 1} R_i \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="502.5" y="1390" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-81" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-82" target="1ZrWYMIvA3GEo1OsLwS7-84" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-82" value="如果\( \tau + n &amp;lt; T \) 那么：&lt;br&gt;\( G \leftarrow G + \gamma^n Q(S_{\tau + n}, A_{\tau + n}) \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="497.5" y="1490" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-83" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-84" target="1ZrWYMIvA3GEo1OsLwS7-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-84" value="\( Q(S_\tau, A_\tau) \leftarrow Q(S_\tau, A_\tau) + \alpha [G - Q(S_\tau, A_\tau)] \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="452.5" y="1590" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-89" target="1ZrWYMIvA3GEo1OsLwS7-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-86" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-85" vertex="1" connectable="0">
          <mxGeometry x="-0.2944" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-89" target="1ZrWYMIvA3GEo1OsLwS7-58" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="777.5" y="1735" />
              <mxPoint x="777.5" y="655" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-88" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" parent="1ZrWYMIvA3GEo1OsLwS7-87" vertex="1" connectable="0">
          <mxGeometry x="-0.8915" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-89" value="\( \tau == T - 1\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="532.5" y="1680" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="1ZrWYMIvA3GEo1OsLwS7-91" target="1ZrWYMIvA3GEo1OsLwS7-56" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="1860" />
              <mxPoint x="360" y="370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-91" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="527.5" y="1830" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ZrWYMIvA3GEo1OsLwS7-92" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;n 步 Sarsa&lt;/span&gt;，用于估计&lt;br style=&quot;font-size: 22px;&quot;&gt;\( Q \approx q_* \) 或 \( q_\pi \)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=none;fontSize=22;" parent="1" vertex="1">
          <mxGeometry x="267.5" y="230" width="130" height="120" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-1" value="如果处于学习 \( \pi \) 的过程中，那么需要确保 \( \pi (.|S_\tau) \) 是基于 \(Q\) 的 \( \epsilon \)-贪心策略" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="840" y="1687.5" width="110" height="85" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-2" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;dashed=1;strokeWidth=2;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1050" y="30" width="790" height="2000" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-4" target="9HfK5l_lQRydSOt8ixqE-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-4" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;br&gt;一个任意的满足 \( b(a|s) &amp;gt; 0 \) 的行动策略 \(b\)，对于所有的 \( s \in S, a \in A \)&lt;br&gt;&lt;br&gt;对于所有的 \( s \in S, a \in A \) 任意初始化 \( Q(s, a) \)&lt;br&gt;&lt;br&gt;将 \( \pi \) 初始化为对应 \( Q \) 的 \( \epsilon \) - 贪心策略，或者某个固定的给定策略&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;步长 \( \alpha \in (0, 1] \)&lt;/span&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;很小的 \( \epsilon \)，\( \epsilon &amp;gt; 0 \)&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;，正整数 \( n \)&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=11;strokeWidth=1;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1350" y="40" width="200" height="180" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-6" target="9HfK5l_lQRydSOt8ixqE-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-6" value="所有存取操作（对于 \( S_t \) 和 \( R_t \) ）的索引可以对 \( n + 1\) 取模" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;fontSize=12;strokeWidth=1;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-8" target="9HfK5l_lQRydSOt8ixqE-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-8" value="初始化和存储 \( S_0 \)，\( S_0 \neq 终止状态\)&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-10" target="9HfK5l_lQRydSOt8ixqE-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-10" value="循环 \( t = 0, 1, 2,\dots: \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="600" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-12" target="9HfK5l_lQRydSOt8ixqE-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-12" value="\( T \leftarrow \infty \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="500" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-17" target="9HfK5l_lQRydSOt8ixqE-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-14" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-13">
          <mxGeometry x="-0.2175" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-17" target="9HfK5l_lQRydSOt8ixqE-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1280" y="730" />
              <mxPoint x="1280" y="385" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-16" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-15">
          <mxGeometry x="-0.8058" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-17" value="\( t &amp;lt; T \) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1410" y="690" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-19" target="9HfK5l_lQRydSOt8ixqE-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-19" value="选择动作 \( A_t \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="810" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-21" target="9HfK5l_lQRydSOt8ixqE-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-21" value="观察和存储下一时刻的收益 \( R_{t + 1} \) 和状态 \( S_{t + 1} \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-23" target="9HfK5l_lQRydSOt8ixqE-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-23" value="如果\( S_{t + 1} \) 是终止状态：&lt;br&gt;\( T \leftarrow t + 1 \)&lt;br&gt;否则：&lt;br&gt;选择并存储动作 \( A_{t+1} \sim b(.|S_{t + 1}) \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="980" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-28" target="9HfK5l_lQRydSOt8ixqE-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1580" y="1255" />
              <mxPoint x="1580" y="630" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-27" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-26">
          <mxGeometry x="-0.9236" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-28" target="9HfK5l_lQRydSOt8ixqE-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-55" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontStyle=1" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-53">
          <mxGeometry x="-0.2167" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-28" value="\( \tau \ge 0\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1395" y="1200" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-30" target="9HfK5l_lQRydSOt8ixqE-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-30" value="\( \tau \leftarrow t - n + 1 \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="1100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-32" target="9HfK5l_lQRydSOt8ixqE-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-32" value="\( G \leftarrow \sum_{i=\tau + 1}^{min(\tau + n), T} \gamma ^{i - \tau - 1} R_i \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1365" y="1465" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-34" target="9HfK5l_lQRydSOt8ixqE-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-34" value="如果\( \tau + n &amp;lt; T \) 那么：&lt;br&gt;\( G \leftarrow G + \gamma^n Q(S_{\tau + n}, A_{\tau + n}) \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1360" y="1580" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-36" target="9HfK5l_lQRydSOt8ixqE-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-36" value="\( Q(S_\tau, A_\tau) \leftarrow Q(S_\tau, A_\tau) + \alpha \rho [G - Q(S_\tau, A_\tau)] \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1315" y="1700" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-41" target="9HfK5l_lQRydSOt8ixqE-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-38" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-37">
          <mxGeometry x="-0.2944" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-41" target="9HfK5l_lQRydSOt8ixqE-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1640" y="1845" />
              <mxPoint x="1640" y="615" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-40" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-39">
          <mxGeometry x="-0.8915" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-41" value="\( \tau == T - 1\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1395" y="1790" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-43" target="9HfK5l_lQRydSOt8ixqE-8">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1260" y="1980" />
              <mxPoint x="1260" y="370" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-43" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="1950" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-44" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;离轨策略下的 n 步 Sarsa&lt;/span&gt;，用于估计&lt;br style=&quot;font-size: 22px;&quot;&gt;\( Q \approx q_* \) 或 \( q_\pi \)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=none;fontSize=22;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1130" y="190" width="130" height="120" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-45" value="如果处于学习 \( \pi \) 的过程中，那么需要确保 \( \pi (.|S_\tau) \) 是基于 \(Q\) 的 \( \epsilon \)-贪心策略" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1700" y="1790" width="110" height="85" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-48" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-46" target="9HfK5l_lQRydSOt8ixqE-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-46" value="选择并保存动作&lt;br&gt;\( A_0 \sim b(.|S_0) \)" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1390" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-49" target="1ZrWYMIvA3GEo1OsLwS7-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-49" value="选择并保存动作&lt;br&gt;\( A_0 \sim \pi(.|S_0) \)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="527.5" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontStyle=1" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-52" target="9HfK5l_lQRydSOt8ixqE-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-52" value="\( \rho \leftarrow \prod_{i = \tau + 1}^{min(\tau + n - 1, T - 1)} \frac {\pi (A_i|S_i)}{b(A_i|S_i)} \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1360" y="1350" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-56" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;dashed=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="-665" y="1840" width="790" height="2050" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-58" target="9HfK5l_lQRydSOt8ixqE-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-58" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;对于所有的 \( s \in S, a \in A \) 任意初始化 \( Q(s, a) \)&lt;br&gt;&lt;br&gt;将 \( \pi \) 初始化为对应 \( Q \) 的 \( \epsilon \) - 贪心策略，或者某个固定的给定策略&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;步长 \( \alpha \in (0, 1] \)&lt;/span&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;，正整数 \( n \)&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=11;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="-352.5" y="1870" width="170" height="150" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-59" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-60" target="9HfK5l_lQRydSOt8ixqE-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-60" value="所有存取操作（对于 \( S_t \) 和 \( R_t \) ）的索引可以对 \( n + 1\) 取模" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;fontSize=12;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="2060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-62" target="9HfK5l_lQRydSOt8ixqE-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-62" value="初始化和存储 \( S_0 \)，\( S_0 \neq 终止状态\)&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="2150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-64" target="9HfK5l_lQRydSOt8ixqE-71">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-64" value="循环 \( t = 0, 1, 2,\dots: \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="2450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-66" target="9HfK5l_lQRydSOt8ixqE-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-66" value="\( T \leftarrow \infty \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="2350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-71" target="9HfK5l_lQRydSOt8ixqE-73">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-68" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-67">
          <mxGeometry x="-0.2175" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-71" target="9HfK5l_lQRydSOt8ixqE-62">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-437" y="2580" />
              <mxPoint x="-437" y="2195" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-70" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-69">
          <mxGeometry x="-0.8058" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-71" value="\( t &amp;lt; T \) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-307.5" y="2540" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-72" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-73" target="9HfK5l_lQRydSOt8ixqE-75">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-73" value="采取动作 \( A_t \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="2660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-75" target="9HfK5l_lQRydSOt8ixqE-77">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-75" value="观察和存储下一时刻的收益 \( R_{t + 1} \) 和状态 \( S_{t + 1} \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="2750" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-76" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-77" target="9HfK5l_lQRydSOt8ixqE-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-77" value="如果\( S_{t + 1} \) 是终止状态：&lt;br&gt;\( T \leftarrow t + 1 \)&lt;br&gt;否则：&lt;br&gt;根据 \(S_{t+1}\) 任意选择 \(A_{t+1}\) 并存储" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="2830" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-82" target="9HfK5l_lQRydSOt8ixqE-64">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-137.5" y="3105" />
              <mxPoint x="-137.5" y="2480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-81" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-80">
          <mxGeometry x="-0.9236" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-103" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-82" target="9HfK5l_lQRydSOt8ixqE-102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-104" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-103">
          <mxGeometry x="-0.2122" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-82" value="\( \tau \ge 0\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-322.5" y="3050" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-83" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-84" target="9HfK5l_lQRydSOt8ixqE-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-84" value="\( \tau \leftarrow t - n + 1 \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="2950" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-89" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-90" target="9HfK5l_lQRydSOt8ixqE-95">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-90" value="\( Q(S_\tau, A_\tau) \leftarrow Q(S_\tau, A_\tau) + \alpha [G - Q(S_\tau, A_\tau)] \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-402.5" y="3500" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-91" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-95" target="9HfK5l_lQRydSOt8ixqE-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-92" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-91">
          <mxGeometry x="-0.2944" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-95" target="9HfK5l_lQRydSOt8ixqE-64">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-77" y="3665" />
              <mxPoint x="-77" y="2465" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-94" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-93">
          <mxGeometry x="-0.8915" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-95" value="\( \tau == T - 1\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-322.5" y="3610" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-97" target="9HfK5l_lQRydSOt8ixqE-62">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-495" y="3790" />
              <mxPoint x="-495" y="2180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-97" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="3760" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-98" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;n 步 树回溯算法&lt;/span&gt;，用于估计&lt;br style=&quot;font-size: 22px;&quot;&gt;\( Q \approx q_* \) 或 \( q_\pi \)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=none;fontSize=22;" vertex="1" parent="1">
          <mxGeometry x="-610" y="1890" width="130" height="120" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-99" value="如果处于学习 \( \pi \) 的过程中，那么需要确保 \( \pi (.|S_\tau) \) 是基于 \(Q\) 的 \( \epsilon \)-贪心策略" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-20" y="3520" width="110" height="85" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-100" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-101" target="9HfK5l_lQRydSOt8ixqE-66">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-101" value="根据 \( S_0 \) 任意选择动作 \(A_0\) 并存储" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-327.5" y="2250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-106" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-102" target="9HfK5l_lQRydSOt8ixqE-105">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-102" value="如果 \( t + 1 &amp;gt;= T \):&lt;br&gt;\( G \leftarrow R_T \)&lt;br&gt;否则：&lt;br&gt;\( G \leftarrow R_{t + 1} + \gamma \sum_a \pi (a|S_{t + 1}) Q(S_{t+1}, a) \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-387.5" y="3200" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-107" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-105" target="9HfK5l_lQRydSOt8ixqE-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-105" value="循环 \( k = min(t, T - 1) \) 递减到 \( \tau + 1 \):&lt;br&gt;\( G \leftarrow R_k + \gamma \sum_{a \neq A_k} \pi (a|S_k) Q(S_k, a) + \gamma \pi (A_k|S_k)G \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-432.5" y="3335" width="330" height="95" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-108" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;dashed=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="192.5" y="2020" width="790" height="2090" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-109" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-110" target="9HfK5l_lQRydSOt8ixqE-112">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-110" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;br&gt;一个任意的满足 \( b(a|s) &amp;gt; 0 \) 的行动策略 \(b\)，对于所有的 \( s \in S, a \in A \)&lt;br&gt;&lt;br&gt;对于所有的 \( s \in S, a \in A \) 任意初始化 \( Q(s, a) \)&lt;br&gt;&lt;br&gt;将 \( \pi \) 初始化为对应 \( Q \) 的 \( \epsilon \) - 贪心策略，或者某个固定的给定策略&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;步长 \( \alpha \in (0, 1] \)&lt;/span&gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;很小的 \( \epsilon \)，\( \epsilon &amp;gt; 0 \)&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;，正整数 \( n \)&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=11;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="492.5" y="2030" width="200" height="180" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-112" target="9HfK5l_lQRydSOt8ixqE-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-112" value="所有存取操作（对于 \( S_t \) 和 \( R_t \) ）的索引可以对 \( n + 1\) 取模" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#FFFFFF;fontSize=12;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="2240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-113" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-114" target="9HfK5l_lQRydSOt8ixqE-153">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-114" value="初始化和存储 \( S_0 \)，\( S_0 \neq 终止状态\)&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="2330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-115" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-116" target="9HfK5l_lQRydSOt8ixqE-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-116" value="循环 \( t = 0, 1, 2,\dots: \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="2590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-117" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-118" target="9HfK5l_lQRydSOt8ixqE-116">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-118" value="\( T \leftarrow \infty \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="2490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-119" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-123" target="9HfK5l_lQRydSOt8ixqE-125">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-120" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-119">
          <mxGeometry x="-0.2175" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-123" target="9HfK5l_lQRydSOt8ixqE-114">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="422.5" y="2720" />
              <mxPoint x="422.5" y="2375" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-122" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-121">
          <mxGeometry x="-0.8058" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-123" value="\( t &amp;lt; T \) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="552.5" y="2680" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-124" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-125" target="9HfK5l_lQRydSOt8ixqE-127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-125" value="选择动作 \( A_t \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="2800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-126" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-127" target="9HfK5l_lQRydSOt8ixqE-129">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-127" value="观察和存储下一时刻的收益 \( R_{t + 1} \) 和状态 \( S_{t + 1} \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="2900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-157" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-129" target="9HfK5l_lQRydSOt8ixqE-136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-129" value="如果\( S_{t + 1} \) 是终止状态：&lt;br&gt;\( T \leftarrow t + 1 \)&lt;br&gt;&lt;br&gt;否则：&lt;br&gt;选择并存储动作 \( A_{t+1} \sim b(.|S_{t + 1}) \)&lt;br&gt;&lt;br&gt;选择并存储 \( \sigma_{t+1} \)&lt;br&gt;&lt;br&gt;存储 \( \frac {\pi (A_{t+1}|S_{t+1})}{b(A_{t+1}|S_{t+1})}\) 为 \( \rho_{t+1} \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="507.5" y="3000" width="170" height="160" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-130" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-134" target="9HfK5l_lQRydSOt8ixqE-116">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="723" y="3355" />
              <mxPoint x="723" y="2620" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-131" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-130">
          <mxGeometry x="-0.9236" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-132" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-134" target="9HfK5l_lQRydSOt8ixqE-138">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="593" y="3500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-133" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-132">
          <mxGeometry x="-0.2167" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-134" value="\( \tau \ge 0\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="537.5" y="3300" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-156" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-136" target="9HfK5l_lQRydSOt8ixqE-134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-136" value="\( \tau \leftarrow t - n + 1 \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="3200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-159" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-138" target="9HfK5l_lQRydSOt8ixqE-158">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-138" value="\( G \leftarrow 0 \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="507.5" y="3460" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-141" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-142" target="9HfK5l_lQRydSOt8ixqE-147">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-142" value="\( Q(S_\tau, A_\tau) \leftarrow Q(S_\tau, A_\tau) + \alpha [G - Q(S_\tau, A_\tau)] \)" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="457.5" y="3740" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-143" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-147" target="9HfK5l_lQRydSOt8ixqE-149">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-144" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-143">
          <mxGeometry x="-0.2944" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-147" target="9HfK5l_lQRydSOt8ixqE-116">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="820" y="3905" />
              <mxPoint x="820" y="2605" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-146" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="9HfK5l_lQRydSOt8ixqE-145">
          <mxGeometry x="-0.8915" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-147" value="\( \tau == T - 1\) ?" style="rhombus;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="537.5" y="3850" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-149" target="9HfK5l_lQRydSOt8ixqE-114">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="4050" />
              <mxPoint x="360" y="2360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-149" value="本幕结束" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=12;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="4020" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-150" value="&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;n 步&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 0);&quot;&gt;离轨策略下的 \(Q(\sigma)\) 算法&lt;/span&gt;，用于估计&lt;br style=&quot;font-size: 22px;&quot;&gt;\( Q \approx q_* \) 或 \( q_\pi \)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;labelBackgroundColor=none;fontSize=22;" vertex="1" parent="1">
          <mxGeometry x="272.5" y="2181" width="130" height="120" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-151" value="如果处于学习 \( \pi \) 的过程中，那么需要确保 \( \pi (.|S_\tau) \) 是基于 \(Q\) 的 \( \epsilon \)-贪心策略" style="text;html=1;strokeColor=#b85450;fillColor=#f8cecc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="840" y="3850" width="110" height="85" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-152" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-153" target="9HfK5l_lQRydSOt8ixqE-118">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-153" value="选择并保存动作&lt;br&gt;\( A_0 \sim b(.|S_0) \)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="2410" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-160" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="9HfK5l_lQRydSOt8ixqE-158" target="9HfK5l_lQRydSOt8ixqE-142">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9HfK5l_lQRydSOt8ixqE-158" value="循环 \( k = min(t+1, T) \) 递减到 \( \tau + 1 \):&lt;br&gt;&lt;br&gt;如果 \(k=T\)：\(G \leftarrow R_T\)&lt;br&gt;&lt;br&gt;否则：&lt;br&gt;\(\overline V \leftarrow \sum_a \pi (a|S_k)Q(S_k,a) \)&lt;br&gt;&lt;br&gt;\( G \leftarrow R_k + \gamma (\sigma_k \rho_k + (1 - \sigma_k)\pi (A_k|S_k))(G - Q(S_k, A_k)) + \gamma \overline V \)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="397.5" y="3560" width="390" height="130" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
